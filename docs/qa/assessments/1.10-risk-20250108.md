# Risk Profile: Story 1.10 - Chatä¸ºä¸­å¿ƒçš„ç»Ÿä¸€å¯¼èˆªæ¶æ„

**Date**: 2025-01-08  
**Reviewer**: Quinn (Test Architect)  
**Story ID**: 1.10  
**Epic**: 1 - åŸºç¡€è®¾æ–½ä¸ç”¨æˆ·è®¤è¯

---

## æ‰§è¡Œæ‘˜è¦

### æ€»ä½“é£é™©è¯„ä¼°

- **è¯†åˆ«é£é™©æ€»æ•°**: 10
- **å…³é”®é£é™©**: 0
- **é«˜é£é™©**: 1
- **ä¸­é£é™©**: 4
- **ä½é£é™©**: 5
- **æ•´ä½“é£é™©åˆ†æ•°**: 60/100 âš ï¸

### æ ¸å¿ƒå…³æ³¨ç‚¹

è¿™æ˜¯ä¸€ä¸ª**é‡å¤§æ¶æ„é‡æ„**ï¼Œæ¶‰åŠï¼š
- å®Œå…¨ç§»é™¤ Dashboard
- Next.js è·¯ç”±ç»“æ„é‡ç»„
- æ ¸å¿ƒç»„ä»¶ï¼ˆChatWithHistoryï¼‰é‡æ„
- è®¤è¯ä¿æŠ¤é€»è¾‘è¿ç§»
- ç”¨æˆ·æµç¨‹æ ¹æœ¬æ€§æ”¹å˜

**ä¸»è¦é£é™©**: Next.js è·¯ç”±ç»„é‡æ„å¯èƒ½ç ´åç°æœ‰åŠŸèƒ½ï¼Œéœ€è¦åˆ†é˜¶æ®µå®æ–½å’Œå……åˆ†æµ‹è¯•ã€‚

---

## å…³é”®é£é™©éœ€è¦ç«‹å³å…³æ³¨

### 1. TECH-001: Next.js è·¯ç”±ç»„é‡æ„å¤±è´¥é£é™©

**é£é™©åˆ†æ•°**: 6 (é«˜é£é™© - ğŸŸ§ Orange)  
**æ¦‚ç‡**: Medium (2) - è·¯ç”±ç»„æ˜¯æˆç†ŸåŠŸèƒ½ä½†éœ€ä»”ç»†è¿ç§»  
**å½±å“**: High (3) - å¤±è´¥ä¼šå¯¼è‡´æ•´ä¸ªåº”ç”¨æ— æ³•è®¿é—®  

#### è¯¦ç»†æè¿°

Story è¦æ±‚åˆ›å»ºæ–°çš„è·¯ç”±ç»„ç»“æ„ï¼š
```
src/app/
â”œâ”€â”€ (public)/    # å…¬å¼€é¡µé¢ç»„
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ login/
â”‚   â””â”€â”€ register/
â””â”€â”€ (app)/       # è®¤è¯ä¿æŠ¤é¡µé¢ç»„
    â”œâ”€â”€ layout.tsx
    â”œâ”€â”€ chat/
    â”œâ”€â”€ documents/
    â””â”€â”€ settings/
```

è¿™æ˜¯ä¸€ä¸ªå…¨é¢çš„è·¯ç”±é‡ç»„ï¼Œæ¶‰åŠï¼š
- ç§»åŠ¨æ‰€æœ‰ç°æœ‰è®¤è¯é¡µé¢åˆ°æ–°è·¯ç”±ç»„
- é‡æ„è®¤è¯ä¿æŠ¤é€»è¾‘åˆ° `(app)/layout.tsx`
- å¯èƒ½å½±å“ä¸­é—´ä»¶å’Œ API è·¯ç”±
- æ‰€æœ‰å†…éƒ¨é“¾æ¥éœ€è¦æ›´æ–°

#### æ½œåœ¨åæœ

**å¦‚æœå¤±è´¥å¯èƒ½å¯¼è‡´**:
- âŒ æ‰€æœ‰å—ä¿æŠ¤é¡µé¢æ— æ³•è®¿é—®ï¼ˆ500/404 é”™è¯¯ï¼‰
- âŒ è®¤è¯é‡å®šå‘å¾ªç¯
- âŒ ä¸­é—´ä»¶åŒ¹é…å¤±è´¥
- âŒ éƒ¨åˆ†é¡µé¢ä¸¢å¤±è®¤è¯ä¿æŠ¤
- âŒ ç”¨æˆ·ä¼šè¯ç®¡ç†å¼‚å¸¸

#### å½±å“çš„ç»„ä»¶

- `src/app/(app)/layout.tsx` - æ–°çš„è®¤è¯ä¿æŠ¤å¸ƒå±€
- `src/app/chat/page.tsx` â†’ `src/app/(app)/chat/page.tsx`
- `src/app/settings/page.tsx` â†’ `src/app/(app)/settings/page.tsx`
- `src/middleware.ts` - å¯èƒ½éœ€è¦æ›´æ–°è·¯ç”±åŒ¹é…è§„åˆ™
- æ‰€æœ‰å†…éƒ¨å¯¼èˆªé“¾æ¥å’Œé‡å®šå‘

#### ç¼“è§£ç­–ç•¥ï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰

**1. åˆ†é˜¶æ®µå®æ–½è®¡åˆ’**:

```
Phase 1: åˆ›å»ºæ–°ç»“æ„ä½†ä¿æŒæ—§è·¯ç”±ï¼ˆ1å¤©ï¼‰
â”œâ”€â”€ åˆ›å»º (app) å’Œ (public) è·¯ç”±ç»„
â”œâ”€â”€ åœ¨æ–°ä½ç½®åˆ›å»ºé¡µé¢å‰¯æœ¬
â””â”€â”€ ä¸¤å¥—è·¯ç”±å¹¶å­˜ï¼Œæ–°è·¯ç”±é€šè¿‡ feature flag æ§åˆ¶

Phase 2: é€æ­¥åˆ‡æ¢æµé‡ï¼ˆ2å¤©ï¼‰
â”œâ”€â”€ Dev ç¯å¢ƒå®Œæ•´æµ‹è¯•
â”œâ”€â”€ Staging ç¯å¢ƒéªŒè¯
â””â”€â”€ Production 10% â†’ 50% â†’ 100%

Phase 3: æ¸…ç†æ—§è·¯ç”±ï¼ˆ1å¤©ï¼‰
â”œâ”€â”€ ç¡®è®¤æ–°è·¯ç”±ç¨³å®š
â”œâ”€â”€ åˆ é™¤æ—§è·¯ç”±æ–‡ä»¶
â””â”€â”€ æ¸…ç† feature flag
```

**2. Feature Flag å®ç°**:

```typescript
// lib/feature-flags.ts
export const useNewNavigation = () => {
  return process.env.NEXT_PUBLIC_NEW_NAV === 'true' || 
         process.env.NODE_ENV === 'development';
};

// app/(app)/layout.tsx
export default async function AppLayout({ children }) {
  const session = await auth();
  
  if (!session?.user) {
    redirect('/login');
  }

  // å¯ä»¥å¿«é€Ÿåˆ‡æ¢å›æ—§å¯¼èˆª
  if (!useNewNavigation()) {
    redirect('/dashboard'); // fallback
  }

  return (
    <>
      <AppHeader />
      <main className="flex-1">{children}</main>
    </>
  );
}
```

**3. å®Œæ•´æµ‹è¯•æ¸…å•**:

```
è·¯ç”±æµ‹è¯•ï¼ˆP0 - å¿…é¡»é€šè¿‡ï¼‰:
â–¡ æ‰€æœ‰æ–°è·¯ç”±å¯è®¿é—®ä¸”è¿”å›æ­£ç¡®å†…å®¹
â–¡ æœªç™»å½•è®¿é—® /chat â†’ é‡å®šå‘åˆ° /login
â–¡ å·²ç™»å½•è®¿é—® / â†’ é‡å®šå‘åˆ° /chat
â–¡ å·²ç™»å½•è®¿é—®æ—§ /dashboard â†’ é‡å®šå‘åˆ° /chat
â–¡ ç›´æ¥ URL è®¿é—®æ‰€æœ‰é¡µé¢æ­£å¸¸å·¥ä½œ
â–¡ æµè§ˆå™¨åé€€/å‰è¿›æŒ‰é’®æ­£å¸¸å·¥ä½œ

è®¤è¯æµ‹è¯•ï¼ˆP0 - å¿…é¡»é€šè¿‡ï¼‰:
â–¡ æ‰€æœ‰ (app) è·¯ç”±éƒ½æœ‰è®¤è¯ä¿æŠ¤
â–¡ æœªæˆæƒè®¿é—®è¢«æ­£ç¡®æ‹¦æˆª
â–¡ ç™»å½•åæ­£ç¡®è·³è½¬åˆ°åŸå§‹ç›®æ ‡
â–¡ ä¼šè¯è¿‡æœŸåæ­£ç¡®å¤„ç†
â–¡ å¤šæ ‡ç­¾é¡µè®¤è¯çŠ¶æ€åŒæ­¥

ä¸­é—´ä»¶æµ‹è¯•ï¼ˆP1ï¼‰:
â–¡ middleware æ­£ç¡®åŒ¹é…æ–°è·¯ç”±ç»“æ„
â–¡ API è·¯ç”±ä¸å—å½±å“
â–¡ é™æ€èµ„æºè®¿é—®æ­£å¸¸
```

**4. å›æ»šè®¡åˆ’**:

```bash
# å‡†å¤‡å¿«é€Ÿå›æ»šè„šæœ¬
# scripts/rollback-navigation.sh

#!/bin/bash
echo "Rolling back to old navigation..."

# æ–¹æ¡ˆA: Feature flag å›æ»šï¼ˆæ¨èï¼‰
export NEXT_PUBLIC_NEW_NAV=false
npm run build
npm run start

# æ–¹æ¡ˆB: Git å›æ»š
# git revert <commit-hash>
# git push origin main

echo "Rollback complete. Verify at /dashboard"
```

**5. ç›‘æ§å’Œå‘Šè­¦**:

```typescript
// éƒ¨ç½²åç›‘æ§æŒ‡æ ‡
const metricsToMonitor = {
  errorRate: {
    threshold: '> 5%',
    action: 'Immediate rollback',
  },
  pageLoadTime: {
    threshold: '> 3s',
    action: 'Investigate and fix',
  },
  authFailures: {
    threshold: '> 10/min',
    action: 'Check auth logic',
  },
  404Rate: {
    threshold: '> 2%',
    action: 'Check routing config',
  },
};
```

#### å‰©ä½™é£é™©

**å³ä½¿å®Œå…¨å®æ–½ç¼“è§£ç­–ç•¥ï¼Œä»å­˜åœ¨**:
- Medium - è¾¹ç•Œæƒ…å†µå¯èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒæ‰æš´éœ²
- ç”¨æˆ·åœ¨è¿ç§»æœŸé—´å¯èƒ½é‡åˆ°çŸ­æš‚çš„è·¯ç”±ä¸ä¸€è‡´
- ç¼“å­˜å’Œ CDN å¯èƒ½å¯¼è‡´æ—§è·¯ç”±æš‚æ—¶ä»å¯è®¿é—®

**å»ºè®®**: åœ¨ä½æµé‡æ—¶æ®µï¼ˆå¦‚å‘¨æœ«ï¼‰éƒ¨ç½²ï¼Œå‡†å¤‡å¥½æŠ€æœ¯å›¢é˜Ÿå¿«é€Ÿå“åº”ã€‚

---

## ä¸­ç­‰é£é™©éœ€è¦å…³æ³¨

### 2. TECH-002: ç»„ä»¶ä¾èµ–å…³ç³»ç ´å

**é£é™©åˆ†æ•°**: 4 (ä¸­é£é™© - ğŸŸ¨ Yellow)  
**æ¦‚ç‡**: Medium (2)  
**å½±å“**: Medium (2)

#### è¯¦ç»†æè¿°

Story è¦æ±‚ç§»é™¤ `ChatWithHistory` ç»„ä»¶çš„å†…éƒ¨ Headerï¼š
- å½“å‰: Chat ç»„ä»¶è‡ªå¸¦ Headerï¼ˆLogoã€Exportã€New æŒ‰é’®ï¼‰
- ç›®æ ‡: ç§»é™¤å†…éƒ¨ Headerï¼Œä¾èµ–å…¨å±€ AppHeader

**é£é™©ç‚¹**:
- å…¶ä»–ç»„ä»¶å¯èƒ½ä¾èµ– ChatWithHistory çš„ç‰¹å®šç»“æ„
- å¸ƒå±€å’Œæ ·å¼å¯èƒ½éœ€è¦å¤§å¹…è°ƒæ•´
- åŠŸèƒ½æŒ‰é’®ï¼ˆExportã€Newï¼‰éœ€è¦é‡æ–°å®šä½
- å¯èƒ½ç ´åç°æœ‰çš„ CSS æˆ–å“åº”å¼è®¾è®¡

#### ç¼“è§£ç­–ç•¥

**1. åˆ›å»ºç»„ä»¶ä¾èµ–å›¾**:
```bash
# ä½¿ç”¨å·¥å…·æ‰¾å‡ºæ‰€æœ‰å¼•ç”¨
grep -r "ChatWithHistory" src/
grep -r "from.*chat/ChatWithHistory" src/
```

**2. æ¸è¿›å¼é‡æ„**:
```typescript
// æ­¥éª¤1: ä¿æŒæ¥å£ä¸å˜ï¼Œå†…éƒ¨é‡æ„
export function ChatWithHistory({ initialDocumentId }: Props) {
  // ä¿ç•™æ‰€æœ‰ props æ¥å£
  // å†…éƒ¨é€æ­¥ç§»é™¤ Header
}

// æ­¥éª¤2: æ·»åŠ å•å…ƒæµ‹è¯•é”å®šè¡Œä¸º
describe('ChatWithHistory', () => {
  it('should render without internal header', () => {
    const { container } = render(<ChatWithHistory />);
    expect(container.querySelector('[data-testid="chat-header"]')).toBeNull();
  });
  
  it('should still render chat input and messages', () => {
    // éªŒè¯æ ¸å¿ƒåŠŸèƒ½æœªå—å½±å“
  });
});
```

**3. åŠŸèƒ½è¿ç§»æ¸…å•**:
```
éœ€è¦ä» ChatWithHistory è¿ç§»çš„åŠŸèƒ½:
â–¡ Logo â†’ ç§»åˆ° AppHeader
â–¡ Export æŒ‰é’® â†’ ç§»åˆ°... (å¾…å®šä½ç½®)
â–¡ New Conversation æŒ‰é’® â†’ ç§»åˆ°ä¾§è¾¹æ é¡¶éƒ¨
â–¡ ç”¨æˆ·èœå• â†’ ç§»åˆ° AppHeader çš„ UserMenu
```

**æµ‹è¯•éœ€æ±‚**:
- å•å…ƒæµ‹è¯•: ChatWithHistory åœ¨æ–°å¸ƒå±€ä¸‹æ­£å¸¸æ¸²æŸ“
- é›†æˆæµ‹è¯•: ç«¯åˆ°ç«¯å¯¹è¯æµç¨‹ï¼ˆåˆ›å»ºã€å‘é€ã€åˆ‡æ¢æ–‡æ¡£ï¼‰
- è§†è§‰å›å½’æµ‹è¯•: æˆªå›¾å¯¹æ¯”ç¡®ä¿ UI æ— ç ´å

---

### 3. BUS-001: ç”¨æˆ·æµç¨‹ä¸­æ–­å¯¼è‡´æµå¤±

**é£é™©åˆ†æ•°**: 4 (ä¸­é£é™© - ğŸŸ¨ Yellow)  
**æ¦‚ç‡**: Medium (2)  
**å½±å“**: Medium (2)

#### è¯¦ç»†æè¿°

**å½“å‰æµç¨‹**: ç™»å½• â†’ Dashboard â†’ ç‚¹å‡»"å¼€å§‹å¯¹è¯" â†’ Chat  
**æ–°æµç¨‹**: ç™»å½• â†’ Chatï¼ˆç›´æ¥ï¼‰

è™½ç„¶æ–°æµç¨‹æ›´ç®€æ´ï¼Œä½†è€ç”¨æˆ·å¯èƒ½ï¼š
- ä¸çŸ¥é“ Dashboard å»å“ªäº†
- ä¹ æƒ¯æ€§æƒ³æŸ¥çœ‹ç»Ÿè®¡æ•°æ®
- æ”¶è—çš„ `/dashboard` é“¾æ¥å¤±æ•ˆ
- æ„Ÿåˆ°çªç„¶å’Œå›°æƒ‘

#### ç”¨æˆ·å½±å“åˆ†æ

**å—å½±å“ç”¨æˆ·ç¾¤**:
1. **è€ç”¨æˆ·** (é«˜å½±å“) - éœ€è¦é‡æ–°å­¦ä¹ å¯¼èˆª
2. **æ–°ç”¨æˆ·** (æ— å½±å“) - ç›´æ¥å­¦ä¹ æ–°å¯¼èˆª
3. **é‡åº¦ç”¨æˆ·** (ä¸­å½±å“) - å¯èƒ½ä¾èµ– Dashboard çš„æŸäº›åŠŸèƒ½

**æ½œåœ¨ä¸šåŠ¡å½±å“**:
- çŸ­æœŸ: ç”¨æˆ·å›°æƒ‘ï¼Œæ”¯æŒè¯·æ±‚å¢åŠ 
- ä¸­æœŸ: å¦‚æœå¼•å¯¼å¾—å½“ï¼Œç”¨æˆ·ä½“éªŒåº”è¯¥æå‡
- é•¿æœŸ: ç¬¦åˆäº§å“å®šä½ï¼Œç”¨æˆ·è·¯å¾„æ›´é«˜æ•ˆ

#### ç¼“è§£ç­–ç•¥

**1. é¦–æ¬¡ç™»å½•å¼•å¯¼**:

```typescript
// components/onboarding/FirstLoginGuide.tsx
export function FirstLoginGuide() {
  const [showGuide, setShowGuide] = useState(false);
  
  useEffect(() => {
    // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦çœ‹è¿‡æ–°å¯¼èˆªå¼•å¯¼
    const hasSeenGuide = localStorage.getItem('seen_new_nav_guide');
    if (!hasSeenGuide) {
      setShowGuide(true);
    }
  }, []);

  return (
    <Dialog open={showGuide} onOpenChange={setShowGuide}>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>å¯¼èˆªå‡çº§ ğŸ‰</DialogTitle>
          <DialogDescription>
            æˆ‘ä»¬ä¼˜åŒ–äº†äº§å“ç»“æ„ï¼Œè®©æ‚¨æ›´å¿«å¼€å§‹å·¥ä½œï¼
          </DialogDescription>
        </DialogHeader>
        
        <div className="space-y-4">
          <div className="flex items-start gap-3">
            <MessageSquare className="h-5 w-5 text-primary" />
            <div>
              <h4 className="font-medium">ç›´è¾¾å¯¹è¯</h4>
              <p className="text-sm text-muted-foreground">
                ç™»å½•åç›´æ¥è¿›å…¥ Chatï¼Œæ— éœ€ç‚¹å‡»"å¼€å§‹å¯¹è¯"
              </p>
            </div>
          </div>
          
          <div className="flex items-start gap-3">
            <FileText className="h-5 w-5 text-primary" />
            <div>
              <h4 className="font-medium">æ–‡æ¡£ç®¡ç†</h4>
              <p className="text-sm text-muted-foreground">
                ç‚¹å‡»é¡¶éƒ¨"æ–‡æ¡£"æŒ‰é’®ç®¡ç†æ‚¨çš„æ–‡æ¡£
              </p>
            </div>
          </div>
          
          <div className="flex items-start gap-3">
            <Settings className="h-5 w-5 text-primary" />
            <div>
              <h4 className="font-medium">è´¦æˆ·è®¾ç½®</h4>
              <p className="text-sm text-muted-foreground">
                ç‚¹å‡»å³ä¸Šè§’å¤´åƒè®¿é—®è®¾ç½®
              </p>
            </div>
          </div>
        </div>
        
        <DialogFooter>
          <Button onClick={() => {
            localStorage.setItem('seen_new_nav_guide', 'true');
            setShowGuide(false);
          }}>
            å¼€å§‹ä½¿ç”¨
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}
```

**2. æ—§ URL é‡å®šå‘ + æç¤º**:

```typescript
// middleware.ts æˆ– app/dashboard/page.tsx
export default async function DashboardRedirect() {
  // é‡å®šå‘ä½†ä¿ç•™æ¶ˆæ¯
  redirect('/chat?from=dashboard');
}

// app/(app)/chat/page.tsx
export default async function ChatPage({ searchParams }) {
  const fromDashboard = searchParams.from === 'dashboard';
  
  return (
    <>
      {fromDashboard && (
        <Alert className="mb-4">
          <Info className="h-4 w-4" />
          <AlertDescription>
            æˆ‘ä»¬ä¼˜åŒ–äº†å¯¼èˆªï¼ç°åœ¨ç™»å½•åç›´æ¥è¿›å…¥å¯¹è¯ç•Œé¢ã€‚
            æ‚¨çš„æ–‡æ¡£å¯ä»¥åœ¨é¡¶éƒ¨"æ–‡æ¡£"èœå•ä¸­ç®¡ç†ã€‚
          </AlertDescription>
        </Alert>
      )}
      <ChatWithHistory />
    </>
  );
}
```

**3. é€æ­¥æ¨å‡ºç­–ç•¥**:

```
é€‰é¡¹ A: å…¨é‡æ¨å‡ºï¼ˆæ¨èï¼‰
- ä¼˜ç‚¹: ç®€å•ï¼Œæ‰€æœ‰ç”¨æˆ·ä½“éªŒä¸€è‡´
- ç¼ºç‚¹: å¯èƒ½æœ‰çŸ­æœŸæ··ä¹±
- é€‚ç”¨: äº§å“ç”¨æˆ·é‡ä¸å¤§æ—¶

é€‰é¡¹ B: A/B æµ‹è¯•
- 50% ç”¨æˆ·çœ‹åˆ°æ–°å¯¼èˆª
- 50% ç”¨æˆ·ä¿æŒæ—§å¯¼èˆª
- ç›‘æ§æŒ‡æ ‡å¯¹æ¯”åå†³å®š
- é€‚ç”¨: éœ€è¦æ•°æ®éªŒè¯æ—¶

é€‰é¡¹ C: æ–°ç”¨æˆ·å…ˆè¡Œ
- æ–°æ³¨å†Œç”¨æˆ·ä½¿ç”¨æ–°å¯¼èˆª
- è€ç”¨æˆ·ä¿æŒæ—§å¯¼èˆªå¹¶é€æ­¥å¼•å¯¼è¿ç§»
- é€‚ç”¨: ç”¨æˆ·åŸºæ•°å¤§ï¼Œéœ€å¹³ç¨³è¿‡æ¸¡æ—¶
```

**4. æ²Ÿé€šè®¡åˆ’**:

```
T-3å¤©: é‚®ä»¶/å…¬å‘Šé¢„å‘Šå¯¼èˆªå˜åŒ–
T-0å¤©: éƒ¨ç½²æ–°å¯¼èˆª
      - é¦–æ¬¡ç™»å½•å¼•å¯¼ Dialog
      - Dashboard é‡å®šå‘æç¤º
      - å¸®åŠ©æ–‡æ¡£æ›´æ–°
T+1å‘¨: æ”¶é›†ç”¨æˆ·åé¦ˆ
T+2å‘¨: æ ¹æ®åé¦ˆå¾®è°ƒ
T+4å‘¨: è¯„ä¼°æˆåŠŸæŒ‡æ ‡
```

#### ç›‘æ§æŒ‡æ ‡

```typescript
// è·Ÿè¸ªçš„å…³é”®æŒ‡æ ‡
const metricsToTrack = {
  // è´Ÿé¢æŒ‡æ ‡ï¼ˆå¸Œæœ›ä¸å¢åŠ ï¼‰
  bounceRate: 'é¦–æ¬¡è®¿é—®è·³å‡ºç‡',
  supportTickets: 'å…³äºå¯¼èˆªçš„æ”¯æŒè¯·æ±‚',
  dashboardAttempts: 'å°è¯•è®¿é—® /dashboard çš„æ¬¡æ•°',
  
  // æ­£é¢æŒ‡æ ‡ï¼ˆå¸Œæœ›æå‡ï¼‰
  timeToFirstMessage: 'ç™»å½•åˆ°é¦–æ¬¡å‘é€æ¶ˆæ¯çš„æ—¶é—´',
  dailyActiveUsers: 'æ—¥æ´»ç”¨æˆ·æ•°',
  sessionDuration: 'å¹³å‡ä¼šè¯æ—¶é•¿',
};
```

---

### 4. OPS-001: å¤§è§„æ¨¡é‡æ„å¯¼è‡´å›æ»šå›°éš¾

**é£é™©åˆ†æ•°**: 4 (ä¸­é£é™© - ğŸŸ¨ Yellow)  
**æ¦‚ç‡**: Medium (2)  
**å½±å“**: Medium (2)

#### è¯¦ç»†æè¿°

è¿™ä¸ª Story æ¶‰åŠï¼š
- åˆ é™¤æ•´ä¸ª `/dashboard` ç›®å½•
- é‡ç»„ `/app` ç›®å½•ç»“æ„
- ä¿®æ”¹å¤šä¸ªæ ¸å¿ƒç»„ä»¶
- æ›´æ–°è®¤è¯é€»è¾‘
- æ”¹å˜é»˜è®¤è·¯ç”±

**å¦‚æœå‡ºé—®é¢˜**:
- ä¸èƒ½ç®€å•åœ°"æ’¤é”€ä¸€ä¸ªæ–‡ä»¶"
- éœ€è¦å›æ»šæ•´ä¸ªç‰¹æ€§åˆ†æ”¯
- å¯èƒ½éœ€è¦ç´§æ€¥çƒ­ä¿®å¤
- ç”¨æˆ·å¯èƒ½å·²ç»é€‚åº”æ–°æµç¨‹

#### ç¼“è§£ç­–ç•¥

**1. Git ç­–ç•¥**:

```bash
# ä½¿ç”¨ feature branch å¼€å‘
git checkout -b feature/chat-centric-navigation

# æ¯ä¸ª AC ä¸€ä¸ª commit
git commit -m "AC1: Remove dashboard and set chat as default"
git commit -m "AC2: Create unified AppHeader component"
git commit -m "AC3: Implement simplified UserMenu"
# ... ä»¥æ­¤ç±»æ¨

# åˆå¹¶å‰ squash commitsï¼ˆä¿æŒä¸»åˆ†æ”¯æ¸…æ™°ï¼‰
git rebase -i main

# ä¿ç•™å›æ»šç‚¹æ ‡ç­¾
git tag -a v1.9-before-nav-refactor -m "Before navigation refactor"
```

**2. Feature Flag å®ç°ï¼ˆå…³é”®ï¼‰**:

```typescript
// lib/feature-flags.ts
export interface FeatureFlags {
  newNavigation: boolean;
}

export function getFeatureFlags(): FeatureFlags {
  return {
    newNavigation: process.env.NEXT_PUBLIC_NEW_NAV === 'true',
  };
}

// åœ¨å…³é”®ä½ç½®ä½¿ç”¨
// app/page.tsx
export default async function Home() {
  const session = await auth();
  const flags = getFeatureFlags();
  
  if (session?.user) {
    if (flags.newNavigation) {
      redirect('/chat');
    } else {
      redirect('/dashboard'); // æ—§è¡Œä¸º
    }
  }
  
  return <HeroSection />;
}
```

**3. åˆ†æ‰¹éƒ¨ç½²è®¡åˆ’**:

```
é˜¶æ®µ 1: Dev ç¯å¢ƒï¼ˆå®Œæ•´æµ‹è¯•ï¼‰
- æ—¶é—´: 2å¤©
- ç›®æ ‡: å‘ç°æ‰€æœ‰æ˜æ˜¾é—®é¢˜
- æµ‹è¯•: æ‰‹åŠ¨ + è‡ªåŠ¨åŒ–

é˜¶æ®µ 2: Staging ç¯å¢ƒï¼ˆæ¨¡æ‹Ÿç”Ÿäº§ï¼‰
- æ—¶é—´: 1å¤©
- ç›®æ ‡: éªŒè¯éƒ¨ç½²æµç¨‹å’Œæ€§èƒ½
- æµ‹è¯•: å®Œæ•´å›å½’æµ‹è¯•

é˜¶æ®µ 3: Production ç°åº¦å‘å¸ƒ
- 10% æµé‡: 2å°æ—¶ç›‘æ§
- 50% æµé‡: 4å°æ—¶ç›‘æ§
- 100% æµé‡: æŒç»­ç›‘æ§24å°æ—¶

é˜¶æ®µ 4: ç¨³å®šæœŸ
- 72å°æ—¶å¯†åˆ‡ç›‘æ§
- å‡†å¤‡å¥½éšæ—¶å›æ»š
```

**4. å›æ»šæ£€æŸ¥æ¸…å•**:

```markdown
## å›æ»šé¢„æ¡ˆ

### è§¦å‘æ¡ä»¶ï¼ˆä»»ä¸€æ»¡è¶³å³å›æ»šï¼‰
- [ ] é”™è¯¯ç‡ > 5%
- [ ] é¡µé¢åŠ è½½æ—¶é—´ > 5ç§’
- [ ] è®¤è¯å¤±è´¥ç‡ > 2%
- [ ] 404 é”™è¯¯ > 10/åˆ†é’Ÿ
- [ ] ç”¨æˆ·æŠ•è¯‰ > 20æ¡/å°æ—¶

### å›æ»šæ­¥éª¤ï¼ˆ15åˆ†é’Ÿå†…å®Œæˆï¼‰
1. [ ] ç¡®è®¤éœ€è¦å›æ»šï¼ˆç”± on-call engineer å†³å®šï¼‰
2. [ ] é€šçŸ¥å›¢é˜Ÿï¼ˆSlack #incidentsï¼‰
3. [ ] æ‰§è¡Œå›æ»š:
   
   æ–¹æ¡ˆ A (æ¨è): Feature Flag
   ```bash
   # Vercel ç¯å¢ƒå˜é‡
   vercel env add NEXT_PUBLIC_NEW_NAV false production
   vercel redeploy --force
   ```
   
   æ–¹æ¡ˆ B: Git Revert
   ```bash
   git revert <merge-commit-hash>
   git push origin main
   # è§¦å‘è‡ªåŠ¨éƒ¨ç½²
   ```

4. [ ] éªŒè¯å›æ»šæˆåŠŸ
   - è®¿é—® /dashboard æ­£å¸¸
   - ç™»å½•åè·³è½¬åˆ° dashboard
   - é”™è¯¯ç‡æ¢å¤æ­£å¸¸

5. [ ] äº‹ååˆ†æï¼ˆ24å°æ—¶å†…ï¼‰
   - è®°å½•å¤±è´¥åŸå› 
   - æ›´æ–°æµ‹è¯•ç”¨ä¾‹
   - ä¿®å¤é—®é¢˜åé‡æ–°éƒ¨ç½²
```

**5. å¢å¼ºç›‘æ§**:

```typescript
// éƒ¨ç½²åç›‘æ§ Dashboard
import { Monitoring } from '@/lib/monitoring';

// å…³é”®æŒ‡æ ‡
const criticalMetrics = {
  errorRate: Monitoring.track('error_rate'),
  pageLoadTime: Monitoring.track('page_load_time'),
  authSuccess: Monitoring.track('auth_success_rate'),
  routingErrors: Monitoring.track('routing_404_rate'),
};

// å‘Šè­¦è§„åˆ™
const alerts = [
  {
    metric: 'error_rate',
    threshold: 0.05, // 5%
    action: 'page_oncall',
    message: 'Error rate exceeded 5% after navigation refactor',
  },
  {
    metric: 'routing_404_rate',
    threshold: 10,
    window: '1min',
    action: 'slack_alert',
    message: 'High 404 rate detected - possible routing issue',
  },
];
```

---

## ä½é£é™©ï¼ˆéœ€è¦æ³¨æ„ä½†ä¸é˜»å¡ï¼‰

### 5. TECH-003: è®¤è¯ä¿æŠ¤é€»è¾‘è¿ç§»é£é™©

**é£é™©åˆ†æ•°**: 3 (ä½é£é™© - ğŸŸ© Green)  
**æ¦‚ç‡**: Low (1) | **å½±å“**: High (3)

**æè¿°**: è®¤è¯é€»è¾‘ä»å„é¡µé¢ç§»åˆ° `(app)/layout.tsx` å¯èƒ½äº§ç”Ÿè¾¹ç•Œæƒ…å†µ

**ç¼“è§£ç­–ç•¥**:
- ä½¿ç”¨ç°æœ‰çš„ `auth()` å‡½æ•°ï¼Œä¸é‡æ–°å®ç°
- æ·»åŠ è®¤è¯è¾¹ç•Œæµ‹è¯•
- éªŒè¯æ‰€æœ‰å—ä¿æŠ¤è·¯ç”±

---

### 6. DATA-001: ç°æœ‰å¯¹è¯å†å²é“¾æ¥å¤±æ•ˆ

**é£é™©åˆ†æ•°**: 3 (ä½é£é™© - ğŸŸ© Green)  
**æ¦‚ç‡**: High (3) | **å½±å“**: Low (1)

**æè¿°**: ç”¨æˆ·ä¹¦ç­¾æˆ–åˆ†äº«çš„ `/dashboard` é“¾æ¥ä¼šå¤±æ•ˆ

**ç¼“è§£ç­–ç•¥**:
```typescript
// middleware.ts æˆ– next.config.mjs
{
  source: '/dashboard',
  destination: '/chat',
  permanent: true, // 301 é‡å®šå‘
}
```

---

### 7. PERF-001: é¦–æ¬¡è®¿é—®æ£€æŸ¥æ–‡æ¡£é€ æˆå»¶è¿Ÿ

**é£é™©åˆ†æ•°**: 3 (ä½é£é™© - ğŸŸ© Green)  
**æ¦‚ç‡**: High (3) | **å½±å“**: Low (1)

**æè¿°**: EmptyState éœ€è¦å¼‚æ­¥æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æ–‡æ¡£

**ç¼“è§£ç­–ç•¥**:
```typescript
// ä½¿ç”¨ React Query ç¼“å­˜ç»“æœ
const { data: hasDocuments } = useQuery({
  queryKey: ['user-documents-exists'],
  queryFn: () => fetch('/api/documents/exists'),
  staleTime: 5 * 60 * 1000, // 5åˆ†é’Ÿç¼“å­˜
});
```

---

### 8. OPS-002: ç¼ºå°‘ç”¨æˆ·é€šçŸ¥æœºåˆ¶

**é£é™©åˆ†æ•°**: 3 (ä½é£é™© - ğŸŸ© Green)  
**æ¦‚ç‡**: High (3) | **å½±å“**: Low (1)

**ç¼“è§£ç­–ç•¥**: å®ç°é¦–æ¬¡ç™»å½•å¼•å¯¼ï¼ˆå·²åœ¨ BUS-001 ä¸­è¯¦è¿°ï¼‰

---

### 9. SEC-001: è®¤è¯è¾¹ç•Œæµ‹è¯•ä¸è¶³

**é£é™©åˆ†æ•°**: 3 (ä½é£é™© - ğŸŸ© Green)  
**æ¦‚ç‡**: Low (1) | **å½±å“**: High (3)

**ç¼“è§£ç­–ç•¥**: æ·»åŠ å®Œæ•´çš„è®¤è¯æµ‹è¯•å¥—ä»¶

---

### 10. BUS-002: Dashboard åŠŸèƒ½ä¸¢å¤±

**é£é™©åˆ†æ•°**: 1 (æœ€å°é£é™© - ğŸŸ¦ Blue)  
**æ¦‚ç‡**: Low (1) | **å½±å“**: Low (1)

**æè¿°**: Dashboard ä½¿ç”¨ç‡ä½ï¼Œä¸¢å¤±å½±å“å°

---

## é£é™©åŸºç¡€çš„æµ‹è¯•ç­–ç•¥

### P0 æµ‹è¯•åœºæ™¯ï¼ˆéƒ¨ç½²å‰å¿…é¡»é€šè¿‡ï¼‰

#### 1. è·¯ç”±å’Œè®¤è¯æ ¸å¿ƒæµ‹è¯•

```typescript
// tests/integration/routing-auth.test.ts
describe('Navigation Refactor - Core Routing', () => {
  describe('Authenticated Users', () => {
    it('should redirect to /chat when accessing root', async () => {
      const session = await signIn('user@example.com');
      const response = await fetch('/');
      expect(response.url).toContain('/chat');
    });

    it('should access /chat directly', async () => {
      const session = await signIn('user@example.com');
      const response = await fetch('/chat');
      expect(response.status).toBe(200);
    });

    it('should access /documents with AppHeader', async () => {
      const session = await signIn('user@example.com');
      const response = await fetch('/documents');
      expect(response.status).toBe(200);
      // éªŒè¯ AppHeader å­˜åœ¨
    });

    it('should access /settings with AppHeader', async () => {
      const session = await signIn('user@example.com');
      const response = await fetch('/settings');
      expect(response.status).toBe(200);
    });
  });

  describe('Unauthenticated Users', () => {
    it('should redirect to /login when accessing /chat', async () => {
      const response = await fetch('/chat');
      expect(response.url).toContain('/login');
    });

    it('should redirect to /login when accessing /documents', async () => {
      const response = await fetch('/documents');
      expect(response.url).toContain('/login');
    });

    it('should show landing page when accessing root', async () => {
      const response = await fetch('/');
      expect(response.status).toBe(200);
      // éªŒè¯ HeroSection å­˜åœ¨
    });
  });

  describe('Dashboard Deprecation', () => {
    it('should redirect /dashboard to /chat', async () => {
      const session = await signIn('user@example.com');
      const response = await fetch('/dashboard');
      expect(response.url).toContain('/chat');
      expect(response.url).toContain('from=dashboard');
    });

    it('should show migration notice when coming from dashboard', async () => {
      const session = await signIn('user@example.com');
      const { container } = render(<ChatPage searchParams={{ from: 'dashboard' }} />);
      expect(container.textContent).toContain('æˆ‘ä»¬ä¼˜åŒ–äº†å¯¼èˆª');
    });
  });
});
```

#### 2. æ ¸å¿ƒåŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•

```typescript
// tests/integration/chat-functionality.test.ts
describe('Chat Functionality After Refactor', () => {
  it('should create new conversation', async () => {
    // éªŒè¯å¯¹è¯åˆ›å»ºåŠŸèƒ½æœªå—å½±å“
  });

  it('should send message and receive response', async () => {
    // éªŒè¯æ¶ˆæ¯å‘é€åŠŸèƒ½æœªå—å½±å“
  });

  it('should switch documents from sidebar', async () => {
    // éªŒè¯æ–‡æ¡£åˆ‡æ¢åŠŸèƒ½æœªå—å½±å“
  });

  it('should load conversation history', async () => {
    // éªŒè¯å†å²è®°å½•åŠ è½½æœªå—å½±å“
  });
});
```

#### 3. Empty State æµ‹è¯•

```typescript
// tests/unit/EmptyState.test.tsx
describe('EmptyState Component', () => {
  it('should show upload guide for users with no documents', async () => {
    mockFetch('/api/documents', { documents: [] });
    const { getByText } = render(<EmptyState />);
    expect(getByText('ä¸Šä¼ æ–‡æ¡£')).toBeInTheDocument();
  });

  it('should show example questions for users with documents', async () => {
    mockFetch('/api/documents', { documents: [{ id: 1 }] });
    const { getByText } = render(<EmptyState />);
    expect(getByText(/ç¤ºä¾‹é—®é¢˜/)).toBeInTheDocument();
  });
});
```

### P1 æµ‹è¯•åœºæ™¯ï¼ˆé‡è¦ä½†éé˜»å¡ï¼‰

#### 4. AppHeader åŠŸèƒ½æµ‹è¯•

```typescript
describe('AppHeader Component', () => {
  it('should render logo, navigation, and user menu');
  it('should highlight active navigation item');
  it('should navigate to /documents when clicking æ–‡æ¡£');
  it('should navigate to /chat when clicking logo');
});
```

#### 5. UserMenu åŠŸèƒ½æµ‹è¯•

```typescript
describe('UserMenu Component', () => {
  it('should show user info in dropdown');
  it('should navigate to /settings when clicking è´¦æˆ·è®¾ç½®');
  it('should toggle theme');
  it('should sign out and redirect to /login');
});
```

#### 6. æµè§ˆå™¨å¯¼èˆªæµ‹è¯•

```typescript
describe('Browser Navigation', () => {
  it('should handle back button correctly');
  it('should handle forward button correctly');
  it('should handle page refresh correctly');
  it('should preserve state across navigation');
});
```

---

## é£é™©ç¼“è§£æ—¶é—´çº¿

```
T-5å¤©: å‡†å¤‡é˜¶æ®µ
â”œâ”€â”€ å®ç° feature flag ç³»ç»Ÿ
â”œâ”€â”€ åˆ›å»ºç»„ä»¶ä¾èµ–å›¾
â””â”€â”€ å‡†å¤‡æµ‹è¯•å¥—ä»¶

T-3å¤©: å¼€å‘é˜¶æ®µ
â”œâ”€â”€ å®æ–½åˆ†é˜¶æ®µè·¯ç”±è¿ç§»
â”œâ”€â”€ é‡æ„ Chat ç»„ä»¶
â””â”€â”€ åˆ›å»º AppHeader å’Œ UserMenu

T-1å¤©: æµ‹è¯•é˜¶æ®µ
â”œâ”€â”€ å®Œæ•´å›å½’æµ‹è¯•
â”œâ”€â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•
â””â”€â”€ è®¤è¯è¾¹ç•Œæµ‹è¯•

T-0å¤©: éƒ¨ç½²é˜¶æ®µ
â”œâ”€â”€ Dev ç¯å¢ƒéƒ¨ç½²ï¼ˆå®Œæ•´éªŒè¯ï¼‰
â”œâ”€â”€ Staging ç¯å¢ƒéƒ¨ç½²ï¼ˆæ¨¡æ‹Ÿç”Ÿäº§ï¼‰
â””â”€â”€ Production ç°åº¦å‘å¸ƒï¼ˆ10% â†’ 50% â†’ 100%ï¼‰

T+1å¤©: ç›‘æ§é˜¶æ®µ
â”œâ”€â”€ å¯†åˆ‡ç›‘æ§é”™è¯¯ç‡å’Œæ€§èƒ½
â”œâ”€â”€ æ”¶é›†ç”¨æˆ·åé¦ˆ
â””â”€â”€ å‡†å¤‡éšæ—¶å›æ»š

T+7å¤©: ç¨³å®šæœŸ
â”œâ”€â”€ è¯„ä¼°æˆåŠŸæŒ‡æ ‡
â”œâ”€â”€ æ¸…ç† feature flag
â””â”€â”€ æ–‡æ¡£æ›´æ–°
```

---

## æ¨èçš„è´¨é‡é—¨æ§

### ğŸš« é˜»å¡éƒ¨ç½²çš„æ¡ä»¶

- [ ] ä»»ä½• P0 æµ‹è¯•å¤±è´¥
- [ ] è·¯ç”±æµ‹è¯•è¦†ç›–ç‡ < 100%
- [ ] è®¤è¯æµ‹è¯•è¦†ç›–ç‡ < 100%
- [ ] Feature flag æœªå®ç°
- [ ] å›æ»šè®¡åˆ’æœªæ–‡æ¡£åŒ–

### âš ï¸ éœ€è¦è¯„å®¡çš„æ¡ä»¶

- [ ] P1 æµ‹è¯•å¤±è´¥ > 10%
- [ ] ä»£ç è¦†ç›–ç‡ < 80%
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•æœ‰å›å½’
- [ ] æ— é¦–æ¬¡ç™»å½•å¼•å¯¼

### âœ… å¯ä»¥éƒ¨ç½²çš„æ¡ä»¶

- [ ] æ‰€æœ‰ P0 æµ‹è¯•é€šè¿‡
- [ ] Feature flag å¯ç”¨
- [ ] ç›‘æ§å’Œå‘Šè­¦é…ç½®å®Œæˆ
- [ ] å›æ»šé¢„æ¡ˆå·²å‡†å¤‡
- [ ] å›¢é˜Ÿå·²å……åˆ†äº†è§£å˜æ›´

---

## æˆåŠŸæ ‡å‡†

### éƒ¨ç½²å 24 å°æ—¶å†…

- âœ… é”™è¯¯ç‡ < 1%
- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 2ç§’
- âœ… è®¤è¯æˆåŠŸç‡ > 99%
- âœ… 404 é”™è¯¯ < 1%
- âœ… æ— éœ€å›æ»š

### éƒ¨ç½²å 1 å‘¨å†…

- âœ… æ–°ç”¨æˆ·é¦–æ¬¡æ¶ˆæ¯è½¬åŒ–ç‡ > 80%
- âœ… è€ç”¨æˆ·é€‚åº”æ–°å¯¼èˆªï¼ˆè·³å‡ºç‡æ— æ˜¾è‘—å¢åŠ ï¼‰
- âœ… æ”¯æŒè¯·æ±‚æ— æ˜¾è‘—å¢åŠ 
- âœ… ç”¨æˆ·æ»¡æ„åº¦æ— ä¸‹é™

### éƒ¨ç½²å 1 ä¸ªæœˆå†…

- âœ… ç”¨æˆ·é¦–æ¬¡ä¸Šä¼ æ–‡æ¡£è½¬åŒ–ç‡æå‡ 20%
- âœ… å¹³å‡ä¼šè¯æ—¶é•¿å¢åŠ 
- âœ… å¯¹å¯¼èˆªçš„å›°æƒ‘åé¦ˆå‡å°‘
- âœ… æ•´ä½“äº§å“ä½¿ç”¨ç‡æå‡

---

## æ€»ç»“ä¸å»ºè®®

### ğŸ¯ æ ¸å¿ƒå»ºè®®

1. **åˆ†é˜¶æ®µå®æ–½æ˜¯å…³é”®** - ä¸è¦ä¸€æ¬¡æ€§åˆ‡æ¢ï¼Œä½¿ç”¨ feature flag é€æ­¥æ¨å‡º
2. **å……åˆ†æµ‹è¯•** - è·¯ç”±å’Œè®¤è¯æ˜¯æ ¸å¿ƒï¼Œå¿…é¡»è¾¾åˆ° 100% æµ‹è¯•è¦†ç›–
3. **åšå¥½å›æ»šå‡†å¤‡** - 15åˆ†é’Ÿå†…èƒ½å›æ»šæ˜¯éƒ¨ç½²çš„å‰æ
4. **ç”¨æˆ·æ²Ÿé€š** - é¦–æ¬¡ç™»å½•å¼•å¯¼å’Œé‡å®šå‘æç¤ºèƒ½å¤§å¹…é™ä½ç”¨æˆ·å›°æƒ‘
5. **ç›‘æ§å‘Šè­¦** - éƒ¨ç½²å 24 å°æ—¶å¯†åˆ‡ç›‘æ§ï¼Œéšæ—¶å‡†å¤‡å“åº”

### âš ï¸ æ³¨æ„äº‹é¡¹

- è¿™æ˜¯ä¸€ä¸ª**é«˜é£é™©**çš„æ¶æ„é‡æ„ï¼Œä¸å»ºè®®åœ¨é«˜å³°æœŸéƒ¨ç½²
- ç¡®ä¿æ‰€æœ‰å›¢é˜Ÿæˆå‘˜ç†è§£å˜æ›´èŒƒå›´å’Œå›æ»šæµç¨‹
- é¢„ç•™è¶³å¤Ÿçš„æ—¶é—´å¤„ç†è¾¹ç•Œæƒ…å†µå’Œç”¨æˆ·åé¦ˆ
- è€ƒè™‘åœ¨ä½æµé‡æ—¶æ®µï¼ˆå¦‚å‘¨æœ«ï¼‰éƒ¨ç½²

### âœ… å¦‚æœåšå¥½å‡†å¤‡ï¼Œè¿™ä¸ªé‡æ„æ˜¯å€¼å¾—çš„

- ç¬¦åˆäº§å“å®šä½ï¼ˆAI é—®ç­”ä¸ºæ ¸å¿ƒï¼‰
- ç®€åŒ–ç”¨æˆ·è·¯å¾„ï¼Œæå‡æ•ˆç‡
- å­¦ä¹ è¡Œä¸šæœ€ä½³å®è·µï¼ˆChatGPTã€Claudeï¼‰
- é•¿æœŸå¯ç»´æŠ¤æ€§æå‡

---

**é£é™©è¯„ä¼°å®Œæˆæ—¥æœŸ**: 2025-01-08  
**ä¸‹ä¸€æ­¥**: å®æ–½ç¼“è§£ç­–ç•¥å¹¶åˆ›å»ºè¯¦ç»†çš„æµ‹è¯•è®¡åˆ’

**å¼•ç”¨æ­¤è¯„ä¼°**:  
Risk profile: docs/qa/assessments/1.10-risk-20250108.md

